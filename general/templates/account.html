{% extends "base.html" %}
{% load static %}
{% load lucide %}

{% block content %} 
<section class="max-w-7xl mx-auto grid grid-cols-2 gap-10 px-4 pt-[100px] pb-[70px]">
  
  <!-- Левая панель: профиль -->
  <div class="bg-white py-10 px-6 rounded-2xl shadow-xl border border-gray-100">
    <div class="w-full flex flex-col items-center text-center space-y-6">
      <img src="{% static 'dependencies/images/mainPage/userIcon.png' %}" alt="Аватар" class="w-32 h-32 rounded-full object-cover border-4 border-[#008080] transition-transform hover:scale-105 duration-300">
      <h2 class="mt-2 text-2xl font-bold text-gray-800">{{ user.username}}</h2>
      <div class="w-full">
        <h3 class="font-semibold text-lg mb-2">Способы оплаты</h3>
        <div class="flex flex-wrap gap-3 justify-center">
          <button class="bg-[#008080] text-white px-4 py-2 rounded-full hover:bg-[#006666] transition-colors">Карта</button>
          <button class="bg-[#008080] text-white px-4 py-2 rounded-full hover:bg-[#006666] transition-colors">QR код</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Правая панель: покупки -->
  <div class="#">
    <h2 class="text-2xl font-bold mb-6 text-gray-800">Ваши покупки</h2>

    <div class="grid gap-6">
      {% for product in purchased_products %}
      <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100 grid grid-cols-1 md:grid-cols-4 gap-6 transform transition duration-300 hover:scale-[1.02] hover:shadow-xl">
        
        <!-- Картинка товара -->
        <div class="md:col-span-1">
          <img src="{{ product.image_url }}" alt="{{ product.name }}" class="w-full h-40 object-cover rounded-lg">
        </div>

        <!-- Инфо о товаре -->
        <div class="md:col-span-3 flex flex-col justify-between">
          <div>
            <h3 class="text-xl font-semibold text-gray-800">{{ product.name }}</h3>
            <p class="text-gray-600 mt-2 text-sm">{{ product.description }}</p>
          </div>

          <div class="flex items-center justify-between mt-4 flex-wrap gap-2">
            <div class="text-lg font-medium text-[#008080]">
              {{ product.price }} ₽
              <span class="text-gray-400 line-through ml-2 text-sm">{{ product.old_price }} ₽</span>
            </div>
            <button class="bg-[#008080] text-white px-4 py-2 rounded-md hover:bg-[#006666] transition-colors">Оставить отзыв</button>
          </div>
        </div>
      </div>
      {% empty %}
      <p class="text-gray-500">У вас пока нет покупок.</p>
      {% endfor %}
    </div>
  </div>

</section>
{% endblock %}
